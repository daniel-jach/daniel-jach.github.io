<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.55">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>einheit-beschreiben-heimat-a2 – Daniel Jach, PhD</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">Daniel Jach, PhD</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../outreach/index.html"> 
<span class="menu-text">Scholarly Outreach</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../teaching/index.html"> 
<span class="menu-text">Teaching Portfolio</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../resources/index.html"> 
<span class="menu-text">Digital Ressources</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../collaboration/index.html"> 
<span class="menu-text">Community Collaboration</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../photos/index.html"> 
<span class="menu-text">Personal Photographs</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../student-work/index.html"> 
<span class="menu-text">Borrowed Plumes</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../contact/index.html"> 
<span class="menu-text">Contact</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#beschreiben-heimat" id="toc-beschreiben-heimat" class="nav-link active" data-scroll-target="#beschreiben-heimat">Meine Heimat beschreiben</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">




<section id="beschreiben-heimat" class="level1">
<h1>Meine Heimat beschreiben</h1>
<p><strong>Niveau</strong> A2 <strong>Sprachhandlung</strong> beschreiben, erzählen <strong>Thema</strong> Heimat <strong>Grammatik</strong> Attributive Adjektive</p>
<time>00:00 – 00:30</time>
<task>
1
</task>
<p>Entspannen Sie sich, schalten Sie beruhigende Musik (<a href="https://www.youtube.com/watch?v=YRJ6xoiRcpQ">Youtube</a>, <a href="external_videos/meditation-musik.mp4">lokal</a>, <a href="https://e.pcloud.link/publink/show?code=XZWdosZwIDUW4QGR0BeUfJOVPWb28lnCLY7">pCloud</a>) ein, setzen Sie sich bequem hin und schließen Sie die Augen. Atmen Sie ruhig ein und aus, ein und aus. Hören Sie auf meine Stimme. Gemeinsam reisen wir in Ihre Heimat, Ihre Heimatstadt, Ihre Heimatprovinz oder das Dorf, in dem Sie geboren und aufgewachsen sind. Folgen Sie mir in der Fantasie. Stellen Sie sich vor, was ich sage.</p>
<details>
<summary>
Text
</summary>
<p>Nach einem langen und anstrengenden Semester an der Universität reisen Sie in Ihre Heimat. Die Sonne scheint, die Luft ist frisch und der Wind weht Ihnen ins Gesicht. Spüren Sie die warme Sonne auf Ihrem Körper, atmen Sie die frische Luft und fühlen Sie den frischen Wind im Gesicht.</p>
<p>Sie erreichen Ihre Heimat. Alles hier ist Ihnen vertraut: Die Landschaft, die alten Straßen und bekannten Häuser, die Menschen, ihre Kleidung, ihre Sprache.</p>
<p>Sie laufen die Straße entlang, wo Sie Ihre Kindheit verbracht haben, wo Sie aufgewachsen sind. Es ist ein gutes Gefühl, wieder hier zu sein. Schauen Sie sich um. Was sehen Sie auf der Straße? Wen treffen Sie dort?</p>
<p>Sie laufen weiter und erreichen Ihre alte Schule. In der Schule ist gerade Unterricht. Sie schauen durch die Fenster und sehen sich selbst im Klassenzimmer sitzen. Was machen Sie gerade? Wer sitzt neben Ihnen?</p>
<p>Als die Schule endet gehen Sie mit Ihren Freunden nach draußen. Sie fühlen sich glücklich. Erinnern Sie sich: Wohin gehen Sie? Was machen Sie jetzt in Ihrer freien Zeit?</p>
<p>Sie gehen weiter und kommen in eine Nachbarschaft mit vielen Menschen. Die Stimmung ist fröhlich und harmonisch. Die Menschen unterhalten sich über den Alltag. Was hören Sie?</p>
<p>Sie kommen näher und sehen bekannte, vertraute Gesichter. Sie kennen all diese Leute gut. Wer ist da?</p>
<p>Die Leute sitzen beim gemeinsamen Essen. Was essen sie? Erinnern Sie sich an den Geschmack und den Geruch der leckeren Speisen.</p>
<p>Sie gehen weiter und erreichen Ihr Elternhaus. Sie öffnen die bekannte Tür und betreten die vertrauten Räume. Wer erwartet Sie dort? Was haben Sie hier erlebt? Welche schönen Erlebnisse, fröhliche Familienfeiern, gemeinsamen Abende haben Sie hier erlebt?</p>
<p>Jetzt wird es Zeit, Ihre Heimat wieder zu verlassen. Denken Sie noch einmal an alles, was Sie hier gesehen, gehört und erlebt haben.</p>
<p>Atmen Sie ruhig ein und aus, ein und aus.</p>
Öffnen Sie jetzt langsam die Augen.
</details>
<p><br></p>
<p>Notieren Sie, was Sie während der Meditationgesehen, gehört, gegessen, wen Sie getroffen und was sie gemacht haben.</p>
<time>00:30 – 00:45</time>
<task>
3
</task>
<p>Hier beschreiben drei Männer und Frauen ihre Heimaterinnerungen. Lesen Sie die Erinnerungen einmal durch. Welche Erinnerung ist Ihrer eigenen Heimaterinnerung ähnlich? Welche Gemeinsamkeiten entdecken Sie?</p>
<blockquote class="blockquote">
<p>Kira, 27<br>
Ich befinde mich in meiner Heimatstadt. Die Sonne wärmt mein Gesicht, als ich durch die vertrauten Straßen schlendere. Fröhliche Kinder spielen auf der Straße und ich höre das Lachen meiner alten Schulfreunde. Der Duft von frischem Brot zieht durch die Luft, während ich den Weg zur Schule gehe. Meine Schule liegt neben einer beliebten Bäckerei. Das Klassenzimmer ist erfüllt von lebhaften Gesprächen und dem leisen Kratzen von Stiften auf Papier. Nach der Schule treffe ich meine Großeltern auf der Veranda, ihr herzliches Lachen erfüllt die Luft. Meine Großmutter hat leckeren Kuchen mit frischem Obst aus ihrem eigenen kleinen Garten gebacken. Mein Großvater trinkt süßen Tee. Jeder Schritt weckt eine neue Erinnerung, jedes Bild, jeder Klang, jeder vertraute Geruch führt mich tiefer in meine Kindheit zurück.</p>
</blockquote>
<blockquote class="blockquote">
<p>Werner, 58<br>
Ich schließe die Augen und finde mich in meiner Heimatstadt wieder. Die grünen Hügel umgeben die Stadt, und der Duft von frisch gemähtem Gras steigt mir in die Nase. Ich höre das Lachen meiner Freunde. Wir spielen Fangen im englischen Garten mit dem kleinen Schlösschen. Das Gras kitzelt unter meinen Füßen. Die Schulglocke läutet, und der vertraute Klang führt mich zurück ins Klassenzimmer. Die Lehrer sprechen mit ruhiger Stimme, und die Kreide quietscht auf der Tafel. Nach der Schule besuche ich den Markt, wo die bunten Stände mit frischem Obst und Gemüse gefüllt sind. Der Duft von Gewürzen und gebratenen Köstlichkeiten erfüllt die Luft. Mit jedem Atemzug tauche ich tiefer in meine Kindheit ein.</p>
</blockquote>
<blockquote class="blockquote">
<p>Isabell, 19<br>
Ich lasse meine Gedanken in meine Heimatstadt schweifen. Die ersten Sonnenstrahlen wärmen meine Haut, während ich durch die engen Gassen gehe. Das fröhliche Lachen der spielenden Kinder und das Zwitschern der Vögel begleiten mich. Ich passiere meine alte Schule, die Glocke läutet zum Unterrichtsbeginn. Nach der Schule gehe ich zum nahegelegenen Flussufer, wo ich als Kind kleine Steine ins Wasser geworfen habe. Ich höre das leise Plätschern des Wassers und das laute Lachen meiner Freunde. Abends versammelt sich meine Familie zum gemeinsamen Abendessen, der Duft von hausgemachtem Essen steigt auf. Mit jedem Schritt in dieser Meditation werden lebendige Erinnerungen an Orte, Menschen und Momente in meiner Kindheit wiederbelebt.</p>
</blockquote>
<p>Lesen Sie noch einmal und beantworten Sie folgende Fragen.</p>
<p>Kira, 27</p>
<ul>
<li>Wen trifft Kira nach der Schule?</li>
<li>Was hat ihre Großmutter gebacken?</li>
<li>Welchen Duft nimmt Kira wahr, als sie zur Schule geht?</li>
</ul>
<p>Werner, 58</p>
<ul>
<li>Wie ist Werners Heimatstadt gelegen?</li>
<li>Was machen Werner und seine Freunde im englischen Garten?</li>
<li>Was macht er nach der Schule?</li>
</ul>
<p>Isabell, 19</p>
<ul>
<li>Was begleitet sie, während sie durch die Gassen geht?</li>
<li>Was hat Isabell nach der Schule gemacht?</li>
<li>Was hört sie am Flussufer?</li>
</ul>
<p><time>00:45 – 00:50</time> <strong>Pause</strong></p>
<time>00:50 – 00:60</time>
<task>
4
</task>
<p>Sie ziehen von Ihrer Heimat in China nach Deutschland. Was nehmen Sie aus Ihrer Heimat mit, das Ihnen wichtig ist? Spielen Sie das Spiel <em>Ich packe meinen Koffer</em> wie im Beispiel.</p>
<blockquote class="blockquote">
<p>Michael: <em>Ich packe meinen Koffer und nehme chinesisches Essen mit.</em> Michelle: <em>Ich packe meinen Koffer und nehme chinesisches Essen und meine süße Katze mit.</em> Christian: <em>Ich packe meinen Koffer und nehme chinesisches Essen und meine süße Katze und ein kleines Foto meiner Großeltern mit.</em> Nina: <em>Ich packe meinen Koffer und nehme … und … und … und … mit.</em></p>
</blockquote>
<time>00:60 – 00:70</time>
<task>
5
</task>
<p>Schreiben Sie einen kleinen Text wie in 3 über Ihre Heimat. Was haben Sie während der Meditation erlebt? Was können Sie noch an Details ergänzen?</p>
<time>00:70 – 00:85</time>
<task>
6
</task>
<p>Finden Sie einen Partner. Lesen Sie Ihrem Partner die Beschreibung Ihrer Heimat vor. Ihr Partner hört zu und malt ein Bild Ihrer Heimat.</p>
<time>00:85 – 00:90</time>
<task>
7
</task>
<p>Teilen und beschreiben Sie Ihr Heimatbild im Plenum.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>